# 英语听力训练应用配置 - 生产环境
# 基于用户提供的信息和服务器配置生成

# ==========================================
# 应用基础配置
# ==========================================
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# 应用 URL 和密钥配置
NEXT_PUBLIC_APP_URL=http://49.234.30.246
APP_BASE_URL=http://49.234.30.246:3000
JWT_SECRET=a8f5f167f44f4964e6c998dee827110c

# ==========================================
# 数据库连接配置 (生产环境使用SQLite)
# ==========================================
DATABASE_TYPE=sqlite
DATABASE_PATH=data/app.db
DATABASE_URL="file:./data/app.db"
DB_TIMEOUT=10000
DB_JOURNAL_MODE=WAL
DB_SYNCHRONOUS=NORMAL
DB_CACHE_SIZE=2000
DB_MMAP_SIZE=268435456
DB_FOREIGN_KEYS=true

# ==========================================
# Cerebras AI API 配置 (用户提供)
# ==========================================
CEREBRAS_API_KEY=csk-nk5e6thd2td8cwfvcky6j59htmtnjp4yrjmv84km5f68rr9r
CEREBRAS_BASE_URL=https://api.cerebras.ai
AI_TIMEOUT=30000
AI_MAX_RETRIES=3
AI_DEFAULT_MODEL=qwen-3-235b-a22b-instruct-2507

# ==========================================
# TTS 配置 (本地Kokoro TTS)
# ==========================================
TTS_MODE=local
ENABLE_TTS=true
KOKORO_API_URL=http://localhost:8080/tts
KOKORO_DEVICE=cuda
TTS_PYTHON_PATH=kokoro-local/venv/bin/python
TTS_VENV_PATH=kokoro-local/venv
TTS_TIMEOUT=120000
TTS_MAX_CONCURRENT=1
TTS_MAX_RESTARTS=3
TTS_RESTART_COOLDOWN=5000

# GPU配置 (Tesla P40)
CUDA_VISIBLE_DEVICES=0
PYTORCH_ENABLE_MPS_FALLBACK=1
KOKORO_TTS_MAX_CONCURRENCY=2

# 代理设置 (远程服务器)
HTTP_PROXY=http://81.71.93.183:10811
HTTPS_PROXY=http://81.71.93.183:10811
http_proxy=http://81.71.93.183:10811
https_proxy=http://81.71.93.183:10811

# ==========================================
# 存储路径配置
# ==========================================
DATA_PATH=./data
STORAGE_PATH=./storage
UPLOAD_DIR=./data/uploads
AUDIO_PATH=./public/audio
PUBLIC_AUDIO_URL=/audio
LOGS_PATH=./logs

# ==========================================
# 安全和管理配置 (用户提供)
# ==========================================
ADMIN_EMAIL=admin@listeningtrain.com
ADMIN_PASSWORD=Admin123456
ADMIN_NAME=System Administrator

# 安全设置
CORS_ORIGINS=http://49.234.30.246,http://49.234.30.246:3000
RATE_LIMIT=60

# ==========================================
# 功能开关
# ==========================================
ENABLE_ANALYTICS=false
ENABLE_CACHING=true
ENABLE_LOGGING=true
ENABLE_METRICS=true
ENABLE_HEALTH_CHECK=true

# ==========================================
# 缓存配置 (可选)
# ==========================================
# REDIS_URL=redis://localhost:6379
CACHE_TTL=3600

# ==========================================
# Docker 部署配置
# ==========================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
DOCKER_DATA_PATH=/app/data
DOCKER_AUDIO_PATH=/app/public/audio
DOCKER_LOGS_PATH=/app/logs
