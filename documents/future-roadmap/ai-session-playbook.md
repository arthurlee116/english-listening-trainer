# AI 会话交互流程手册

> 用途：在与执行 AI 开始新会话前快速复习，确保双方共享同一上下文并按既定流程协作。

## 会话前准备（用户侧）
1. **复习关键文档**：
   - `documents/project-status.md` —— 核心目标、阻塞、近期计划。
   - `documents/project-board.md` —— 各任务状态。
   - 路线图：`ci-docker-cache-roadmap.md`、`tts-refactor-roadmap.md` 及其他相关文档。
   - `documents/workflow-snapshots/` —— 了解最近一次 CI/部署/TTS 自检的结果。
   - `documents/future-roadmap/ai-collaboration-guidelines.md` —— 确保守则最新。
2. **准备额外素材**：收集 GitHub run 链接、日志、最新决策等资料，方便会话中引用。
3. **更新状态**：若上述文档存在过期信息，先行修订（或在会话中提醒 AI 修订）。

## 启动会话
1. **提供会话背景**：向执行 AI 发送当前目标或问题，并附上任何必需的链接/日志。
2. **引用启动清单**：提示 AI 按 `session-boot-checklist.md` 执行上下文加载（可直接贴 checklist 或告知文件路径）。
3. **等待自检回应**：AI 首条消息应按照守则提供：已阅读文档、当前目标理解、负责任务、最新状态、所需补充信息。若缺内容，要求其补充。

## 会话进行中
1. **计划与执行**：
   - AI 必须先提交行动计划（含验证步骤、风险评估）；确认无误后再实施。
   - 对需要额外资源或权限的操作（例如拉大镜像），AI 应提前说明影响。
2. **文档同步**：
   - 每当状态发生变化（任务开始、完成、阻塞），要求 AI 更新 `project-status.md`、`project-board.md`、相关快照。
   - 若 AI 没有权限修改，需在回复中明确告知由用户手动更新。
3. **结果核对**：
   - 修改完成后，AI 应按“问题/风险 → 修改 → 验证 → 待办/建议”结构汇报。
   - 核查其是否更新了文档，并提醒“先更新文档，再提交代码”的约束。

## 会话收尾
1. **确认状态**：
   - 检查看板/状态总表/快照是否已反映最新成果。
   - 若存在未完成事项，记录在 To-Do 或阻塞项中。
2. **总结待办**：
   - AI 应列出下一步建议或需要跟进的任务。
   - 用户可在 `project-status.md` 或项目看板中补充个人提醒。
3. **准备下次会话材料**：
   - 保存本次 run 链接、日志等，方便下次启动时引用。

## 常见注意事项
- **日志引用**：若需要查看 GitHub Actions 日志，至少提供 run 链接。AI 将在快照中记录链接和简短摘要，而非粘贴长日志。
- **文件修改顺序**：任何代码改动在提交前都应完成文档更新；若协作者漏做，提醒其补充。
- **权限限制**：当 AI 无法访问某资源时，应立即说明，用户需视情况提供或替代。
- **停机信号**：若发现脏工作区、冲突或超出权限的操作，AI 必须暂停并寻求确认。

按此手册执行，即可在每次会话前快速对齐上下文，减少重复解释，维持稳定的协作节奏。
