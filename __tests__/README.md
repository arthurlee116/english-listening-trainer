# 测试策略概览

本目录仅保留经过人工验证、可维护性强的单元测试。此前由 AI 大模型批量生成的集成、E2E 与工具类测试会导致大量假阳性，因此已经全部移除。

## 目录结构

```
__tests__/
├── lib/
│   └── export-service.test.ts   # 导出服务的核心单元测试
└── README.md
```

## 为什么精简测试

- **可维护性**：旧的测试覆盖了不存在的场景和 API，维护成本高且结论不可靠。
- **稳定性**：大量失败用例会掩盖真正的回归问题，阻碍迭代。
- **聚焦关键路径**：当前优先保障错题导出功能的正确性和可回归性。

## 如何扩展

1. **从真实需求出发**：确认业务流程存在且可以在本地复现。
2. **编写模块化测试**：优先测试纯函数或独立服务层，避免依赖复杂环境。
3. **验证后再提交**：新增测试前请确保能够在 `npm test -- --run` 下稳定通过。

## 运行方式

```bash
npm test -- --run
```

如需调试单个文件，可执行：

```bash
npx vitest run __tests__/lib/export-service.test.ts
```
